function geoFindMe(){var t,e;navigator.geolocation?navigator.geolocation.getCurrentPosition(function(i){t=i.coords.latitude,e=i.coords.longitude,getWeatherDataAuto(t,e)},function(){getWeatherDataAuto(51.509865,-.118092)}):alert("Geolocation is not supported by your browser")}function getWeatherDataAuto(t,e){getData("https://api.openweathermap.org/data/2.5/weather?lat="+t+"&lon="+e+"&units=metric&lang=en&APPID=303c4b17f85d64176ffd592811fd1b91")}function getWeatherData(t){getData("https://api.openweathermap.org/data/2.5/weather?q="+t+"&units=metric&lang=en&APPID=303c4b17f85d64176ffd592811fd1b91")}function getData(t){$.ajax({url:t,type:"GET",success:function(t){appendData(t)},error:function(t){console.log(t)},crossDomain:!0})}function appendData(t){var e=t.name,i=t.sys.country,n=t.weather[0].description,a=t.main.humidity,r=t.weather[0].icon;switch(infoPresure=t.main.pressure,infoTemp=t.main.temp,infoWind=t.wind.speed,pressureUnit="mm of mercury",windUnit="m/s",$("#city-name").text(e),$("#country").text(i),$("#desc").text(n),$("#temp").text(Math.floor(infoTemp)+String.fromCharCode(176)+"C"),$("#humidity").text(a+String.fromCharCode(37)),$("#pressure").text(Math.floor(.750062*infoPresure)),$("#pressureUnits").text(pressureUnit),$("#wind").text(infoWind),$("#windUnits").text(windUnit),$("#linkToMap").attr("href","http://openweathermap.org/find?q="+e+","+i),r){case"01d":$("#icon-img").attr("src","img/animated-icons/day.svg");break;case"01n":$("#icon-img").attr("src","img/animated-icons/night.svg");break;case"02d":$("#icon-img").attr("src","img/animated-icons/cloudy-day-2.svg");break;case"02n":$("#icon-img").attr("src","img/animated-icons/cloudy-night-2.svg");break;case"03d":$("#icon-img").attr("src","img/animated-icons/cloudy-day-3.svg");break;case"03n":$("#icon-img").attr("src","img/animated-icons/cloudy-night-3.svg");break;case"04d":case"04n":$("#icon-img").attr("src","img/animated-icons/cloudy.svg");break;case"09d":$("#icon-img").attr("src","img/animated-icons/rainy-2.svg");break;case"09n":$("#icon-img").attr("src","img/animated-icons/rainy-5.svg");break;case"10d":$("#icon-img").attr("src","img/animated-icons/rainy-3.svg");break;case"10n":$("#icon-img").attr("src","img/animated-icons/rainy-6.svg");break;case"11d":case"11n":$("#icon-img").attr("src","img/animated-icons/thunder.svg");break;case"13d":$("#icon-img").attr("src","img/animated-icons/snowy-2.svg");break;case"13n":$("#icon-img").attr("src","img/animated-icons/snowy-6.svg");break;case"50d":case"50n":$("#icon-img").attr("src","img/animated-icons/mist-d-n.svg");break;default:$("#icon-img").attr("src","img/animated-icons/cloudy.svg")}}var infoTemp,tempUnit="C",infoPresure,pressureUnit="mm of mercury",inforWind,windUnit="m/s";$(document).ready(function(){geoFindMe()}),$("#searchCity").on("click",function(){event.preventDefault(),getWeatherData($("#input-city").val())}),$("#convertTemp").on("click",function(){if("C"===tempUnit){var t=Math.floor(9*infoTemp/5+32);tempUnit="F",$("#temp").text(t+String.fromCharCode(176)+tempUnit)}else tempUnit="C",$("#temp").text(Math.floor(infoTemp)+String.fromCharCode(176)+tempUnit)}),$("#convertPressure").on("click",function(){"mm of mercury"===pressureUnit?($("#pressure").text(Math.floor(infoPresure)),pressureUnit="hPa",$("#pressureUnits").text(pressureUnit)):($("#pressure").text(Math.floor(.750062*infoPresure)),pressureUnit="mm of mercury",$("#pressureUnits").text(pressureUnit))}),$("#convertWind").on("click",function(){"m/s"===windUnit?($("#wind").text(Math.floor(3.6*infoWind)),windUnit="km/h",$("#windUnits").text(windUnit)):($("#wind").text(Math.floor(infoWind)),windUnit="m/s",$("#windUnits").text(windUnit))});